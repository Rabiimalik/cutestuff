<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>For Hafsa</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Quicksand:wght@300;400;500;600&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
/* ============================================
   CSS RESET & BASE
   ============================================ */
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --pink: #FFB6C1;
  --blush: #FFF0F5;
  --rose-gold: #B76E79;
  --cream: #FFF8F0;
  --dusty-rose: #DCAE96;
  --gold: #D4A574;
  --deep-rose: #C46B84;
  --soft-white: #FFFBFC;
  --text-dark: #5A3D4A;
  --text-light: #8B6B7B;
}

html, body {
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: 'Quicksand', sans-serif;
  background: var(--blush);
  color: var(--text-dark);
  -webkit-font-smoothing: antialiased;
}

/* ============================================
   FLOATING HEARTS BACKGROUND
   ============================================ */
.hearts-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

.floating-heart {
  position: absolute;
  bottom: -60px;
  opacity: 0;
  animation: floatUp linear infinite;
  pointer-events: none;
}

.floating-heart::before {
  content: '';
  display: block;
  width: var(--size);
  height: var(--size);
  background: var(--heart-color);
  transform: rotate(45deg);
  border-radius: 50% 50% 0 50%;
}

.floating-heart::after {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  left: calc(var(--size) * -0.25);
  width: var(--size);
  height: var(--size);
  background: var(--heart-color);
  transform: rotate(45deg);
  border-radius: 50% 50% 50% 0;
}

@keyframes floatUp {
  0% {
    bottom: -60px;
    opacity: 0;
    transform: translateX(0) rotate(0deg);
  }
  10% {
    opacity: var(--max-opacity);
  }
  90% {
    opacity: var(--max-opacity);
  }
  100% {
    bottom: 110%;
    opacity: 0;
    transform: translateX(var(--drift)) rotate(var(--rotation));
  }
}

/* ============================================
   PETAL DECORATIONS
   ============================================ */
.petal {
  position: absolute;
  width: 12px;
  height: 18px;
  background: var(--pink);
  border-radius: 50% 50% 50% 0;
  opacity: 0.15;
  transform: rotate(var(--petal-rotate, 45deg));
}

/* ============================================
   SCREEN CONTAINER
   ============================================ */
.app-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 1;
}

.screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.8s ease, visibility 0.8s ease, transform 0.8s ease;
  transform: translateY(30px);
  overflow-y: auto;
  overflow-x: hidden;
  padding: 20px;
  -webkit-overflow-scrolling: touch;
}

.screen.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.screen.exit-left {
  opacity: 0;
  transform: translateX(-60px);
}

.screen.exit-right {
  opacity: 0;
  transform: translateX(60px);
}

/* ============================================
   SCREEN 1: LOVE LETTER / ENVELOPE
   ============================================ */
.envelope-wrapper {
  perspective: 1000px;
  cursor: pointer;
  position: relative;
}

.envelope {
  width: min(380px, 85vw);
  height: min(260px, 58vw);
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.3s ease;
}

.envelope:hover {
  transform: scale(1.02);
}

.envelope-body {
  width: 100%;
  height: 100%;
  background: linear-gradient(145deg, #F5E6D3, #EDD5C0);
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(183, 110, 121, 0.2), 0 2px 8px rgba(0,0,0,0.08);
  position: relative;
  overflow: hidden;
}

.envelope-body::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(135deg, transparent 48%, #E8C9B0 48%, #E8C9B0 52%, transparent 52%),
              linear-gradient(225deg, transparent 48%, #E8C9B0 48%, #E8C9B0 52%, transparent 52%);
  opacity: 0.5;
}

.envelope-flap {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 50%;
  background: linear-gradient(180deg, #EDD5C0, #E8C9B0);
  clip-path: polygon(0 0, 50% 100%, 100% 0);
  transform-origin: top center;
  transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 2;
  border-radius: 8px 8px 0 0;
}

.envelope.opened .envelope-flap {
  transform: rotateX(180deg);
}

.envelope-name {
  position: absolute;
  top: 55%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2rem, 6vw, 3rem);
  color: var(--rose-gold);
  z-index: 1;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.wax-seal {
  position: absolute;
  top: 35%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 50px;
  height: 50px;
  background: radial-gradient(circle, #C0392B, #922B21);
  border-radius: 50%;
  z-index: 3;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3), inset 0 1px 2px rgba(255,255,255,0.2);
  transition: opacity 0.4s ease;
}

.envelope.opened .wax-seal {
  opacity: 0;
}

.wax-seal::after {
  content: '♥';
  color: rgba(255,255,255,0.8);
  font-size: 1.4rem;
}

.envelope-hint {
  margin-top: 24px;
  font-size: 0.9rem;
  color: var(--text-light);
  opacity: 0;
  animation: fadeInUp 1s ease 1.5s forwards;
}

/* Letter */
.letter-container {
  display: none;
  width: min(600px, 90vw);
  max-height: 80vh;
  overflow-y: auto;
  padding: 0;
}

.letter-container.visible {
  display: block;
  animation: letterReveal 1s ease forwards;
}

@keyframes letterReveal {
  from {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.letter-paper {
  background: linear-gradient(to bottom, var(--cream), #FFF5E8);
  border-radius: 12px;
  padding: clamp(24px, 5vw, 48px);
  box-shadow: 0 4px 24px rgba(0,0,0,0.08), 0 1px 4px rgba(0,0,0,0.04);
  position: relative;
  overflow: hidden;
}

.letter-paper::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4a574' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}

.letter-content {
  position: relative;
  z-index: 1;
}

.letter-line {
  font-family: 'Quicksand', sans-serif;
  font-size: clamp(0.9rem, 2.5vw, 1.05rem);
  line-height: 1.9;
  color: var(--text-dark);
  opacity: 0;
  transform: translateY(10px);
  margin-bottom: 8px;
}

.letter-line.revealed {
  animation: lineReveal 0.6s ease forwards;
}

@keyframes lineReveal {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.letter-signature {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(1.5rem, 4vw, 2rem);
  color: var(--rose-gold);
  text-align: right;
  margin-top: 24px;
}

/* ============================================
   NAVIGATION BUTTONS
   ============================================ */
.nav-buttons {
  display: flex;
  gap: 16px;
  margin-top: 28px;
  flex-shrink: 0;
  padding-bottom: 20px;
}

.nav-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 28px;
  background: linear-gradient(135deg, var(--pink), var(--deep-rose));
  color: white;
  border: none;
  border-radius: 50px;
  font-family: 'Quicksand', sans-serif;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(196, 107, 132, 0.3);
  letter-spacing: 0.5px;
}

.nav-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(196, 107, 132, 0.4);
}

.nav-btn:active {
  transform: translateY(0);
}

.nav-btn.back {
  background: linear-gradient(135deg, var(--dusty-rose), var(--rose-gold));
}

.nav-btn .arrow {
  font-size: 1.1rem;
  transition: transform 0.3s ease;
}

.nav-btn:hover .arrow-right {
  transform: translateX(3px);
}

.nav-btn:hover .arrow-left {
  transform: translateX(-3px);
}

/* ============================================
   SECTION TITLES
   ============================================ */
.section-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.6rem, 5vw, 2.4rem);
  color: var(--rose-gold);
  text-align: center;
  margin-bottom: 8px;
  font-weight: 600;
}

.section-subtitle {
  font-family: 'Quicksand', sans-serif;
  font-size: clamp(0.85rem, 2.5vw, 1rem);
  color: var(--text-light);
  text-align: center;
  margin-bottom: 32px;
}

/* ============================================
   FLORAL DIVIDER
   ============================================ */
.floral-divider {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin: 16px 0;
  color: var(--pink);
  font-size: 1.2rem;
  opacity: 0.6;
}

.floral-divider::before, .floral-divider::after {
  content: '';
  width: 40px;
  height: 1px;
  background: linear-gradient(to right, transparent, var(--pink), transparent);
}

/* ============================================
   SCREEN 2: FIRST DATES - ELEGANT CARDS
   ============================================ */
.cards-grid {
  display: flex;
  gap: 24px;
  flex-wrap: wrap;
  justify-content: center;
  max-width: 900px;
  width: 100%;
}

.memory-card {
  width: min(260px, 80vw);
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(183, 110, 121, 0.12);
  border: 2px solid rgba(255, 182, 193, 0.3);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 0;
  transform: translateY(30px);
}

.memory-card.animate-in {
  opacity: 1;
  transform: translateY(0);
}

.memory-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 12px 36px rgba(183, 110, 121, 0.2);
  border-color: var(--pink);
}

.memory-card .card-image {
  width: 100%;
  height: 200px;
  background: linear-gradient(135deg, var(--blush), var(--cream));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-light);
  font-size: 0.85rem;
  position: relative;
  overflow: hidden;
}

.memory-card .card-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.memory-card .card-caption {
  padding: 16px;
  text-align: center;
  font-size: 0.9rem;
  color: var(--text-dark);
  font-weight: 500;
  line-height: 1.5;
}

/* ============================================
   SCREEN 3: SCRAPBOOK / POLAROID STYLE
   ============================================ */
.scrapbook-grid {
  display: flex;
  gap: 28px;
  flex-wrap: wrap;
  justify-content: center;
  max-width: 950px;
  width: 100%;
}

.polaroid {
  width: min(240px, 75vw);
  background: white;
  padding: 12px 12px 40px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  transition: all 0.4s ease;
  opacity: 0;
  transform: rotate(var(--tilt, 0deg)) translateY(30px);
  position: relative;
}

.polaroid.animate-in {
  opacity: 1;
  transform: rotate(var(--tilt, 0deg)) translateY(0);
}

.polaroid:hover {
  transform: rotate(0deg) translateY(-8px) scale(1.05);
  box-shadow: 0 12px 32px rgba(0,0,0,0.15);
  z-index: 10;
}

.polaroid .tape {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%) rotate(var(--tape-rotate, 2deg));
  width: 60px;
  height: 22px;
  background: rgba(255, 228, 181, 0.7);
  border-radius: 2px;
  z-index: 2;
}

.polaroid .photo {
  width: 100%;
  height: 200px;
  background: linear-gradient(135deg, var(--blush), #F8E8EE);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-light);
  font-size: 0.85rem;
  overflow: hidden;
}

.polaroid .photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.polaroid .polaroid-caption {
  position: absolute;
  bottom: 8px;
  left: 12px;
  right: 12px;
  text-align: center;
  font-family: 'Great Vibes', cursive;
  font-size: 1.1rem;
  color: var(--text-dark);
}

/* ============================================
   SCREEN 4: TIMELINE / FILMSTRIP
   ============================================ */
.timeline {
  display: flex;
  flex-direction: column;
  gap: 32px;
  max-width: 600px;
  width: 100%;
  position: relative;
  padding-left: 32px;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 8px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, var(--pink), var(--rose-gold), var(--pink));
}

.timeline-item {
  display: flex;
  gap: 20px;
  align-items: flex-start;
  position: relative;
  opacity: 0;
  transform: translateX(-20px);
}

.timeline-item.animate-in {
  opacity: 1;
  transform: translateX(0);
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.timeline-item::before {
  content: '♥';
  position: absolute;
  left: -32px;
  top: 8px;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
  color: var(--rose-gold);
  background: var(--blush);
  border: 2px solid var(--pink);
  border-radius: 50%;
}

.timeline-item .timeline-photo {
  width: min(180px, 40vw);
  height: 140px;
  border-radius: 12px;
  overflow: hidden;
  flex-shrink: 0;
  background: linear-gradient(135deg, var(--cream), var(--blush));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-light);
  font-size: 0.8rem;
  box-shadow: 0 4px 16px rgba(183, 110, 121, 0.15);
}

.timeline-item .timeline-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.timeline-item .timeline-text {
  padding-top: 4px;
}

.timeline-item .timeline-text .timeline-caption {
  font-size: 0.95rem;
  color: var(--text-dark);
  font-weight: 500;
  line-height: 1.6;
}

/* ============================================
   SCREEN 5: CIRCULAR FRAMES / GALLERY
   ============================================ */
.gallery-grid {
  display: flex;
  gap: 32px;
  flex-wrap: wrap;
  justify-content: center;
  max-width: 900px;
  width: 100%;
}

.gallery-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  opacity: 0;
  transform: scale(0.8);
}

.gallery-item.animate-in {
  opacity: 1;
  transform: scale(1);
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.gallery-circle {
  width: min(220px, 65vw);
  height: min(220px, 65vw);
  border-radius: 50%;
  overflow: hidden;
  border: 4px solid var(--pink);
  box-shadow: 0 4px 24px rgba(183, 110, 121, 0.2), 0 0 0 8px rgba(255, 182, 193, 0.15);
  transition: all 0.4s ease;
  background: linear-gradient(135deg, var(--blush), var(--cream));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-light);
  font-size: 0.85rem;
}

.gallery-circle img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.gallery-circle:hover {
  transform: scale(1.08);
  box-shadow: 0 8px 32px rgba(183, 110, 121, 0.3), 0 0 0 10px rgba(255, 182, 193, 0.25);
}

.gallery-caption {
  font-size: 0.95rem;
  color: var(--text-dark);
  font-weight: 500;
  text-align: center;
  max-width: 200px;
}

/* ============================================
   SCREEN 6: COLLAGE / MOSAIC (Family Visit)
   ============================================ */
.collage-section {
  max-width: 800px;
  width: 100%;
}

.collage-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: auto auto;
  gap: 16px;
  width: 100%;
}

.collage-item {
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(183, 110, 121, 0.15);
  position: relative;
  opacity: 0;
  transform: scale(0.9);
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  background: linear-gradient(135deg, var(--cream), var(--blush));
}

.collage-item.animate-in {
  opacity: 1;
  transform: scale(1);
}

.collage-item:first-child {
  grid-row: span 2;
}

.collage-item .collage-photo {
  width: 100%;
  height: 100%;
  min-height: 180px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-light);
  font-size: 0.85rem;
}

.collage-item .collage-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.collage-item .collage-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 16px;
  background: linear-gradient(transparent, rgba(90, 61, 74, 0.7));
  color: white;
  font-size: 0.9rem;
  font-weight: 500;
}

.collage-item:hover {
  transform: scale(1.02);
  box-shadow: 0 8px 28px rgba(183, 110, 121, 0.25);
}

/* Dubai skyline decoration */
.dubai-skyline {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40px;
  opacity: 0.06;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 80'%3E%3Cpath d='M0,80 L0,60 L30,60 L30,40 L40,40 L40,20 L50,20 L50,40 L60,40 L60,30 L70,30 L70,10 L75,0 L80,10 L80,30 L90,30 L90,50 L120,50 L120,35 L130,35 L130,25 L140,25 L140,35 L150,35 L150,50 L180,50 L180,45 L190,45 L190,15 L195,5 L200,15 L200,45 L210,45 L210,50 L250,50 L250,30 L260,30 L260,50 L300,50 L300,55 L400,55 L400,40 L410,40 L410,20 L420,20 L420,40 L430,40 L430,55 L500,55 L500,45 L510,45 L510,25 L515,15 L520,25 L520,45 L530,45 L530,55 L600,55 L600,60 L800,60 L800,80 Z' fill='%235A3D4A'/%3E%3C/svg%3E") no-repeat bottom center;
  background-size: 100% auto;
}

/* ============================================
   SCREEN 7: DIARY / JOURNAL STYLE
   ============================================ */
.journal-stack {
  display: flex;
  flex-direction: column;
  gap: 20px;
  max-width: 550px;
  width: 100%;
}

.journal-entry {
  display: flex;
  gap: 16px;
  background: white;
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 2px 12px rgba(183, 110, 121, 0.1);
  border-left: 4px solid var(--pink);
  opacity: 0;
  transform: translateX(30px);
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  align-items: center;
}

.journal-entry.animate-in {
  opacity: 1;
  transform: translateX(0);
}

.journal-entry:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 20px rgba(183, 110, 121, 0.18);
}

.journal-entry .journal-photo {
  width: min(140px, 35vw);
  height: 120px;
  border-radius: 12px;
  overflow: hidden;
  flex-shrink: 0;
  background: linear-gradient(135deg, var(--cream), var(--blush));
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-light);
  font-size: 0.8rem;
}

.journal-entry .journal-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.journal-entry .journal-text {
  font-size: 0.9rem;
  color: var(--text-dark);
  line-height: 1.6;
  font-weight: 500;
}

.journal-entry .journal-date {
  font-size: 0.75rem;
  color: var(--text-light);
  margin-top: 6px;
  font-style: italic;
}

/* ============================================
   SCREEN 8: HAPPILY EVER AFTER
   ============================================ */
.finale-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
}

.finale-text {
  font-family: 'Great Vibes', cursive;
  font-size: clamp(2rem, 8vw, 4.5rem);
  color: var(--rose-gold);
  opacity: 0;
  line-height: 1.4;
  text-shadow: 0 2px 8px rgba(183, 110, 121, 0.2);
}

.finale-text.animate-in {
  animation: finaleReveal 2s ease forwards;
}

@keyframes finaleReveal {
  0% {
    opacity: 0;
    transform: scale(0.8);
    filter: blur(4px);
  }
  50% {
    opacity: 1;
    filter: blur(0);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0);
  }
}

.finale-subtitle {
  font-family: 'Quicksand', sans-serif;
  font-size: clamp(1rem, 3vw, 1.3rem);
  color: var(--text-light);
  margin-top: 20px;
  opacity: 0;
}

.finale-subtitle.animate-in {
  animation: fadeInUp 1s ease 1.5s forwards;
}

/* Sparkle effect */
.sparkle-container {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

.sparkle {
  position: absolute;
  width: 6px;
  height: 6px;
  background: var(--gold);
  border-radius: 50%;
  opacity: 0;
  animation: sparkle 2s ease-in-out infinite;
}

@keyframes sparkle {
  0%, 100% { opacity: 0; transform: scale(0); }
  50% { opacity: 1; transform: scale(1); }
}

/* ============================================
   PROGRESS INDICATOR
   ============================================ */
.progress-dots {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px;
  z-index: 100;
  padding: 8px 16px;
  background: rgba(255, 240, 245, 0.85);
  border-radius: 20px;
  backdrop-filter: blur(8px);
  box-shadow: 0 2px 12px rgba(183, 110, 121, 0.15);
}

.progress-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--pink);
  opacity: 0.3;
  transition: all 0.4s ease;
  cursor: pointer;
}

.progress-dot.active {
  opacity: 1;
  background: var(--rose-gold);
  transform: scale(1.3);
}

/* ============================================
   GENERAL ANIMATIONS
   ============================================ */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* ============================================
   SCROLLBAR STYLING
   ============================================ */
.screen::-webkit-scrollbar {
  width: 4px;
}

.screen::-webkit-scrollbar-track {
  background: transparent;
}

.screen::-webkit-scrollbar-thumb {
  background: var(--pink);
  border-radius: 4px;
}

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 768px) {
  .cards-grid, .scrapbook-grid, .gallery-grid {
    flex-direction: column;
    align-items: center;
  }

  .collage-grid {
    grid-template-columns: 1fr;
  }

  .collage-item:first-child {
    grid-row: span 1;
  }

  .timeline {
    padding-left: 28px;
  }

  .timeline-item {
    flex-direction: column;
    gap: 12px;
  }

  .timeline-item .timeline-photo {
    width: 100%;
    height: 180px;
  }

  .journal-entry {
    flex-direction: column;
    text-align: center;
  }

  .journal-entry .journal-photo {
    width: 100%;
    height: 160px;
  }

  .screen {
    padding: 16px;
    padding-bottom: 60px;
  }

  .progress-dots {
    bottom: 10px;
  }

  .nav-btn {
    padding: 10px 22px;
    font-size: 0.88rem;
  }
}

@media (max-width: 380px) {
  .envelope {
    width: 90vw;
    height: 62vw;
  }

  .memory-card, .polaroid {
    width: 90vw;
  }

  .gallery-circle {
    width: 60vw;
    height: 60vw;
  }
}

/* ============================================
   SWIPE HINT (mobile)
   ============================================ */
.swipe-hint {
  display: none;
  position: fixed;
  bottom: 50px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.8rem;
  color: var(--text-light);
  opacity: 0;
  animation: fadeInUp 1s ease 3s forwards;
  z-index: 99;
}

@media (max-width: 768px) {
  .swipe-hint {
    display: block;
  }
}
</style>
</head>
<body>

<!-- Floating Hearts Background -->
<div class="hearts-container" id="heartsContainer"></div>

<!-- Progress Dots -->
<div class="progress-dots" id="progressDots"></div>

<!-- App Container -->
<div class="app-container" id="app">

  <!-- SCREEN 1: Love Letter -->
  <div class="screen active" id="screen-0">
    <div class="envelope-wrapper" id="envelopeWrapper">
      <div class="envelope" id="envelope">
        <div class="envelope-body"></div>
        <div class="envelope-flap"></div>
        <div class="wax-seal"></div>
        <div class="envelope-name">Hafsa</div>
      </div>
      <p class="envelope-hint">Tap to open</p>
    </div>

    <div class="letter-container" id="letterContainer">
      <div class="letter-paper">
        <div class="letter-content" id="letterContent">
          <!-- Letter lines will be injected by JS -->
        </div>
      </div>
      <div class="nav-buttons" style="justify-content: center;">
        <button class="nav-btn" onclick="goToScreen(1)">
          Continue <span class="arrow arrow-right">&#10084;</span>
        </button>
      </div>
    </div>
  </div>

  <!-- SCREEN 2: First 3 Dates -->
  <div class="screen" id="screen-1">
    <h2 class="section-title">Where It All Began</h2>
    <div class="floral-divider">&#10047;</div>
    <p class="section-subtitle">Our first moments together</p>
    <div class="cards-grid">
      <div class="memory-card" style="transition-delay: 0.1s">
        <div class="card-image" id="img-2-1">Photo 1 - Date 1</div>
        <div class="card-caption">Subtitle goes here</div>
      </div>
      <div class="memory-card" style="transition-delay: 0.3s">
        <div class="card-image" id="img-2-2">Photo 2 - Date 2</div>
        <div class="card-caption">Subtitle goes here</div>
      </div>
      <div class="memory-card" style="transition-delay: 0.5s">
        <div class="card-image" id="img-2-3">Photo 3 - Date 3</div>
        <div class="card-caption">Subtitle goes here</div>
      </div>
    </div>
    <div class="nav-buttons">
      <button class="nav-btn back" onclick="goToScreen(0)">
        <span class="arrow arrow-left">&larr;</span> Back
      </button>
      <button class="nav-btn" onclick="goToScreen(2)">
        Next <span class="arrow arrow-right">&rarr;</span>
      </button>
    </div>
  </div>

  <!-- SCREEN 3: Scrapbook / Polaroid -->
  <div class="screen" id="screen-2">
    <h2 class="section-title">Sweet Memories</h2>
    <div class="floral-divider">&#10048;</div>
    <p class="section-subtitle">Moments I never want to forget</p>
    <div class="scrapbook-grid">
      <div class="polaroid" style="--tilt: -3deg; --tape-rotate: -5deg; transition-delay: 0.1s">
        <div class="tape"></div>
        <div class="photo" id="img-3-1">Photo 1</div>
        <div class="polaroid-caption">Subtitle goes here</div>
      </div>
      <div class="polaroid" style="--tilt: 2deg; --tape-rotate: 3deg; transition-delay: 0.3s">
        <div class="tape"></div>
        <div class="photo" id="img-3-2">Photo 2</div>
        <div class="polaroid-caption">Subtitle goes here</div>
      </div>
      <div class="polaroid" style="--tilt: -1deg; --tape-rotate: -2deg; transition-delay: 0.5s">
        <div class="tape"></div>
        <div class="photo" id="img-3-3">Photo 3</div>
        <div class="polaroid-caption">Subtitle goes here</div>
      </div>
    </div>
    <div class="nav-buttons">
      <button class="nav-btn back" onclick="goToScreen(1)">
        <span class="arrow arrow-left">&larr;</span> Back
      </button>
      <button class="nav-btn" onclick="goToScreen(3)">
        Next <span class="arrow arrow-right">&rarr;</span>
      </button>
    </div>
  </div>

  <!-- SCREEN 4: Timeline -->
  <div class="screen" id="screen-3">
    <h2 class="section-title">Our Story Unfolds</h2>
    <div class="floral-divider">&#10043;</div>
    <p class="section-subtitle">Every chapter with you is my favorite</p>
    <div class="timeline">
      <div class="timeline-item" style="transition-delay: 0.1s">
        <div class="timeline-photo" id="img-4-1">Photo 1</div>
        <div class="timeline-text">
          <div class="timeline-caption">Subtitle goes here</div>
        </div>
      </div>
      <div class="timeline-item" style="transition-delay: 0.3s">
        <div class="timeline-photo" id="img-4-2">Photo 2</div>
        <div class="timeline-text">
          <div class="timeline-caption">Subtitle goes here</div>
        </div>
      </div>
      <div class="timeline-item" style="transition-delay: 0.5s">
        <div class="timeline-photo" id="img-4-3">Photo 3</div>
        <div class="timeline-text">
          <div class="timeline-caption">Subtitle goes here</div>
        </div>
      </div>
    </div>
    <div class="nav-buttons">
      <button class="nav-btn back" onclick="goToScreen(2)">
        <span class="arrow arrow-left">&larr;</span> Back
      </button>
      <button class="nav-btn" onclick="goToScreen(4)">
        Next <span class="arrow arrow-right">&rarr;</span>
      </button>
    </div>
  </div>

  <!-- SCREEN 5: Circular Gallery -->
  <div class="screen" id="screen-4">
    <h2 class="section-title">Captured in Time</h2>
    <div class="floral-divider">&#10049;</div>
    <p class="section-subtitle">Moments that take my breath away</p>
    <div class="gallery-grid">
      <div class="gallery-item" style="transition-delay: 0.1s">
        <div class="gallery-circle" id="img-5-1">Photo 1</div>
        <div class="gallery-caption">Subtitle goes here</div>
      </div>
      <div class="gallery-item" style="transition-delay: 0.3s">
        <div class="gallery-circle" id="img-5-2">Photo 2</div>
        <div class="gallery-caption">Subtitle goes here</div>
      </div>
      <div class="gallery-item" style="transition-delay: 0.5s">
        <div class="gallery-circle" id="img-5-3">Photo 3</div>
        <div class="gallery-caption">Subtitle goes here</div>
      </div>
    </div>
    <div class="nav-buttons">
      <button class="nav-btn back" onclick="goToScreen(3)">
        <span class="arrow arrow-left">&larr;</span> Back
      </button>
      <button class="nav-btn" onclick="goToScreen(5)">
        Next <span class="arrow arrow-right">&rarr;</span>
      </button>
    </div>
  </div>

  <!-- SCREEN 6: Family Visit (Collage) -->
  <div class="screen" id="screen-5">
    <h2 class="section-title">When Your Family Came to Our World</h2>
    <div class="floral-divider">&#10044;</div>
    <p class="section-subtitle">A time that meant everything</p>
    <div class="collage-section">
      <div class="collage-grid">
        <div class="collage-item" style="transition-delay: 0.1s">
          <div class="collage-photo" id="img-6-1">Photo 1</div>
          <div class="collage-overlay">Subtitle goes here</div>
        </div>
        <div class="collage-item" style="transition-delay: 0.3s">
          <div class="collage-photo" id="img-6-2">Photo 2</div>
          <div class="collage-overlay">Subtitle goes here</div>
        </div>
        <div class="collage-item" style="transition-delay: 0.5s">
          <div class="collage-photo" id="img-6-3">Photo 3</div>
          <div class="collage-overlay">Subtitle goes here</div>
        </div>
      </div>
      <div class="dubai-skyline"></div>
    </div>
    <div class="nav-buttons">
      <button class="nav-btn back" onclick="goToScreen(4)">
        <span class="arrow arrow-left">&larr;</span> Back
      </button>
      <button class="nav-btn" onclick="goToScreen(6)">
        Next <span class="arrow arrow-right">&rarr;</span>
      </button>
    </div>
  </div>

  <!-- SCREEN 7: Recent Adventures (Journal) -->
  <div class="screen" id="screen-6">
    <h2 class="section-title">Our Recent Adventures</h2>
    <div class="floral-divider">&#10047;</div>
    <p class="section-subtitle">The latest chapters of us</p>
    <div class="journal-stack">
      <div class="journal-entry" style="transition-delay: 0.1s">
        <div class="journal-photo" id="img-7-1">Photo 1</div>
        <div>
          <div class="journal-text">Subtitle goes here</div>
        </div>
      </div>
      <div class="journal-entry" style="transition-delay: 0.3s">
        <div class="journal-photo" id="img-7-2">Photo 2</div>
        <div>
          <div class="journal-text">Subtitle goes here</div>
        </div>
      </div>
      <div class="journal-entry" style="transition-delay: 0.5s">
        <div class="journal-photo" id="img-7-3">Photo 3</div>
        <div>
          <div class="journal-text">Subtitle goes here</div>
        </div>
      </div>
    </div>
    <div class="nav-buttons">
      <button class="nav-btn back" onclick="goToScreen(5)">
        <span class="arrow arrow-left">&larr;</span> Back
      </button>
      <button class="nav-btn" onclick="goToScreen(7)">
        Next <span class="arrow arrow-right">&rarr;</span>
      </button>
    </div>
  </div>

  <!-- SCREEN 8: Happily Ever After -->
  <div class="screen" id="screen-7">
    <div class="finale-container">
      <div class="sparkle-container" id="sparkleContainer"></div>
      <div class="finale-text" id="finaleText">And they lived happily ever after...</div>
      <p class="finale-subtitle" id="finaleSubtitle">Forever & Always</p>
    </div>
    <div class="nav-buttons" style="margin-top: 48px;">
      <button class="nav-btn back" onclick="goToScreen(6)">
        <span class="arrow arrow-left">&larr;</span> Back
      </button>
    </div>
  </div>

</div>

<script>
/* ============================================
   APP STATE
   ============================================ */
let currentScreen = 0;
const totalScreens = 8;
let isTransitioning = false;
let envelopeOpened = false;
let letterRevealed = false;

/* ============================================
   FLOATING HEARTS
   ============================================ */
function createFloatingHearts() {
  const container = document.getElementById('heartsContainer');
  const colors = [
    'rgba(255,182,193,0.4)',
    'rgba(183,110,121,0.3)',
    'rgba(212,165,116,0.3)',
    'rgba(255,192,203,0.35)',
    'rgba(220,174,150,0.3)',
    'rgba(196,107,132,0.25)'
  ];

  function createHeart() {
    const heart = document.createElement('div');
    heart.classList.add('floating-heart');
    const size = Math.random() * 12 + 6;
    const color = colors[Math.floor(Math.random() * colors.length)];
    const left = Math.random() * 100;
    const duration = Math.random() * 8 + 10;
    const drift = (Math.random() - 0.5) * 120;
    const rotation = (Math.random() - 0.5) * 60;
    const delay = Math.random() * 6;
    const maxOpacity = Math.random() * 0.4 + 0.15;

    heart.style.setProperty('--size', size + 'px');
    heart.style.setProperty('--heart-color', color);
    heart.style.setProperty('--drift', drift + 'px');
    heart.style.setProperty('--rotation', rotation + 'deg');
    heart.style.setProperty('--max-opacity', maxOpacity);
    heart.style.left = left + '%';
    heart.style.animationDuration = duration + 's';
    heart.style.animationDelay = delay + 's';

    container.appendChild(heart);

    // Remove and recreate after animation
    setTimeout(() => {
      heart.remove();
      createHeart();
    }, (duration + delay) * 1000);
  }

  // Create initial batch
  for (let i = 0; i < 18; i++) {
    createHeart();
  }
}

/* ============================================
   PROGRESS DOTS
   ============================================ */
function createProgressDots() {
  const container = document.getElementById('progressDots');
  for (let i = 0; i < totalScreens; i++) {
    const dot = document.createElement('div');
    dot.classList.add('progress-dot');
    if (i === 0) dot.classList.add('active');
    dot.addEventListener('click', () => goToScreen(i));
    container.appendChild(dot);
  }
}

function updateProgressDots() {
  const dots = document.querySelectorAll('.progress-dot');
  dots.forEach((dot, i) => {
    dot.classList.toggle('active', i === currentScreen);
  });
}

/* ============================================
   SCREEN NAVIGATION
   ============================================ */
function goToScreen(index) {
  if (isTransitioning || index === currentScreen || index < 0 || index >= totalScreens) return;
  isTransitioning = true;

  const currentEl = document.getElementById('screen-' + currentScreen);
  const nextEl = document.getElementById('screen-' + index);
  const direction = index > currentScreen ? 'left' : 'right';

  // Exit current
  currentEl.classList.remove('active');
  currentEl.classList.add(direction === 'left' ? 'exit-left' : 'exit-right');

  // Enter next
  nextEl.style.transform = direction === 'left' ? 'translateX(60px)' : 'translateX(-60px)';
  nextEl.classList.add('active');
  nextEl.scrollTop = 0;

  setTimeout(() => {
    currentEl.classList.remove('exit-left', 'exit-right');
    nextEl.style.transform = '';
    currentScreen = index;
    updateProgressDots();
    animateScreenContent(index);
    isTransitioning = false;
  }, 100);

  // Small delay to trigger CSS transition
  requestAnimationFrame(() => {
    nextEl.style.transform = '';
  });

  currentScreen = index;
  updateProgressDots();

  setTimeout(() => {
    animateScreenContent(index);
    isTransitioning = false;
  }, 300);
}

/* ============================================
   ANIMATE SCREEN CONTENT
   ============================================ */
function animateScreenContent(screenIndex) {
  const screen = document.getElementById('screen-' + screenIndex);

  // Cards, polaroids, timeline items, etc.
  const animatables = screen.querySelectorAll(
    '.memory-card, .polaroid, .timeline-item, .gallery-item, .collage-item, .journal-entry'
  );

  animatables.forEach((el, i) => {
    el.classList.remove('animate-in');
    setTimeout(() => {
      el.classList.add('animate-in');
    }, 150 * (i + 1));
  });

  // Finale screen
  if (screenIndex === 7) {
    const finaleText = document.getElementById('finaleText');
    const finaleSub = document.getElementById('finaleSubtitle');
    finaleText.classList.remove('animate-in');
    finaleSub.classList.remove('animate-in');
    setTimeout(() => finaleText.classList.add('animate-in'), 200);
    setTimeout(() => finaleSub.classList.add('animate-in'), 1000);
    createSparkles();
  }
}

/* ============================================
   SPARKLES (Finale)
   ============================================ */
function createSparkles() {
  const container = document.getElementById('sparkleContainer');
  container.innerHTML = '';
  for (let i = 0; i < 30; i++) {
    const sparkle = document.createElement('div');
    sparkle.classList.add('sparkle');
    sparkle.style.left = Math.random() * 100 + '%';
    sparkle.style.top = Math.random() * 100 + '%';
    sparkle.style.animationDelay = Math.random() * 3 + 's';
    sparkle.style.animationDuration = (Math.random() * 2 + 1) + 's';
    const size = Math.random() * 4 + 3;
    sparkle.style.width = size + 'px';
    sparkle.style.height = size + 'px';
    const colors = ['#D4A574', '#FFB6C1', '#B76E79', '#FFD700', '#FFC0CB'];
    sparkle.style.background = colors[Math.floor(Math.random() * colors.length)];
    container.appendChild(sparkle);
  }
}

/* ============================================
   ENVELOPE INTERACTION
   ============================================ */
document.getElementById('envelopeWrapper').addEventListener('click', function() {
  if (envelopeOpened) return;

  const envelope = document.getElementById('envelope');
  envelope.classList.add('opened');
  envelopeOpened = true;

  setTimeout(() => {
    document.getElementById('envelopeWrapper').style.display = 'none';
    const letterContainer = document.getElementById('letterContainer');
    letterContainer.classList.add('visible');

    // Reveal letter lines
    setTimeout(revealLetterLines, 600);
  }, 1000);
});

/* ============================================
   LETTER CONTENT
   ============================================ */
const letterLines = [
  "My dearest Hafsa,",
  "",
  "This is a placeholder for your love letter.",
  "Each line will fade in one by one,",
  "creating a beautiful reading experience.",
  "",
  "Replace these lines with your actual letter text.",
  "The animation will adjust automatically",
  "to however many lines you write.",
  "",
  "Every word you add will appear",
  "with a gentle, romantic animation.",
  "",
  "With all my love,"
];

function buildLetterContent() {
  const container = document.getElementById('letterContent');
  letterLines.forEach((line, i) => {
    const p = document.createElement('p');
    p.classList.add('letter-line');
    if (i === 0) {
      p.style.fontFamily = "'Great Vibes', cursive";
      p.style.fontSize = 'clamp(1.4rem, 4vw, 1.8rem)';
      p.style.color = 'var(--rose-gold)';
      p.style.marginBottom = '16px';
    }
    if (i === letterLines.length - 1) {
      p.classList.add('letter-signature');
      p.style.fontFamily = "'Great Vibes', cursive";
      p.style.fontSize = 'clamp(1.3rem, 3.5vw, 1.6rem)';
      p.style.color = 'var(--rose-gold)';
      p.style.textAlign = 'right';
      p.style.marginTop = '20px';
    }
    if (line === "") {
      p.innerHTML = '&nbsp;';
    } else {
      p.textContent = line;
    }
    container.appendChild(p);
  });
}

function revealLetterLines() {
  const lines = document.querySelectorAll('.letter-line');
  lines.forEach((line, i) => {
    setTimeout(() => {
      line.classList.add('revealed');
    }, i * 200);
  });
}

/* ============================================
   SWIPE GESTURE SUPPORT
   ============================================ */
let touchStartX = 0;
let touchStartY = 0;
let touchEndX = 0;
let touchEndY = 0;

document.addEventListener('touchstart', (e) => {
  touchStartX = e.changedTouches[0].screenX;
  touchStartY = e.changedTouches[0].screenY;
}, { passive: true });

document.addEventListener('touchend', (e) => {
  touchEndX = e.changedTouches[0].screenX;
  touchEndY = e.changedTouches[0].screenY;
  handleSwipe();
}, { passive: true });

function handleSwipe() {
  const deltaX = touchEndX - touchStartX;
  const deltaY = Math.abs(touchEndY - touchStartY);

  // Only handle horizontal swipes (not vertical scrolling)
  if (Math.abs(deltaX) < 60 || deltaY > Math.abs(deltaX)) return;

  if (deltaX < 0) {
    // Swipe left -> next
    goToScreen(currentScreen + 1);
  } else {
    // Swipe right -> back
    goToScreen(currentScreen - 1);
  }
}

/* ============================================
   KEYBOARD NAVIGATION
   ============================================ */
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
    goToScreen(currentScreen + 1);
  } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
    goToScreen(currentScreen - 1);
  }
});

/* ============================================
   INITIALIZATION
   ============================================ */
document.addEventListener('DOMContentLoaded', () => {
  createFloatingHearts();
  createProgressDots();
  buildLetterContent();
});
</script>

</body>
</html>
